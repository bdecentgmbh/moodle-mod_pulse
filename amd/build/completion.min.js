/**
 * Module javascript to place the placeholders.
 * Modified version of IOMAD Email template emailvars.
 *
 * @module  mod_pulse/completion
 * @category  Classes - autoloading
 * @copyright 2021, bdecent gmbh bdecent.de
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_pulse/completion",["core/fragment"],(function(Fragment){return{updatecompletionbuttons:function(){for(var moduleid,instances=document.getElementsByClassName("modtype_pulse"),modules=[],i=0;i<instances.length;i++){var id=instances[i].getAttribute("id");moduleid=parseInt(id.replace("module-","")),modules.push(moduleid)}var approvebtn,element,referenceNode,completioncontent,params={modules:JSON.stringify(modules)};modules.length>0&&Fragment.loadFragment("mod_pulse","completionbuttons",1,params).then((function(data){for(var k in data=JSON.parse(data))approvebtn=data[k],element=document.getElementById("module-"+k),referenceNode=element.getElementsByClassName("contentwithoutlink")[0],(completioncontent=document.createElement("div")).innerHTML=approvebtn,completioncontent.classList.add("pulse-completion-btn"),referenceNode.parentNode.insertBefore(completioncontent,referenceNode.nextSibling);return!0})).fail()},init:function(){document.body.classList.contains("path-course-view")&&this.updatecompletionbuttons()}}}));

//# sourceMappingURL=completion.min.js.map