define ("mod_pulse/modal_preset",["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","mod_pulse/events"],function(a,b,c,d,e,f){var g=!1,h={SAVE_BUTTON:"[data-action=\"save\"]",CUSTOMIZE_BUTTON:"[data-action=\"customize\"]",CANCEL_BUTTON:"[data-action=\"cancel\"]"},i=function(a){d.call(this,a);if(!this.getFooter().find(h.SAVE_BUTTON).length){b.exception({message:"No \"Apply and save\" button found"})}if(!this.getFooter().find(h.CUSTOMIZE_BUTTON).length){b.exception({message:"No \"Apply and customize\" button found"})}if(!this.getFooter().find(h.CANCEL_BUTTON).length){b.exception({message:"No cancel button found"})}};i.TYPE="PresetModal";i.prototype=Object.create(d.prototype);i.prototype.constructor=i;i.prototype.formData="";i.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this);this.getModal().on(c.events.activate,h.SAVE_BUTTON,function(b,c){document.querySelectorAll(".preset-config-params form.mform").forEach(function(a){a.importmethod.value="save";a.addEventListener("submit",function(a){a.preventDefault()})});document.querySelectorAll(".preset-config-params [data-fieldtype=\"submit\"] input")[0].click();var d=a.Event(f.save);this.getRoot().trigger(d,this);if(!d.isDefaultPrevented()){this.destroy();c.originalEvent.preventDefault()}b.preventDefault()}.bind(this));this.getModal().on(c.events.activate,h.CUSTOMIZE_BUTTON,function(b,c){document.querySelectorAll(".preset-config-params form.mform").forEach(function(a){a.importmethod.value="customize"});var d=a.Event(f.customize);this.getRoot().trigger(d,this);if(!d.isDefaultPrevented()){c.originalEvent.preventDefault()}b.preventDefault()}.bind(this));this.getModal().on(c.events.activate,h.CANCEL_BUTTON,function(){this.hide();this.destroy()}.bind(this))};if(!g){e.register(i.TYPE,i,"mod_pulse/modal_preset");g=!0}return i});
//# sourceMappingURL=modal_preset.min.js.map
